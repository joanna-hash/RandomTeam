<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ëœë¤ ì¡° í¸ì„±ê¸°</title>
  <meta name="description" content="ì´ë¦„ ëª©ë¡ê³¼ ì¡°ë³„ ì¸ì›ìˆ˜ë¥¼ ë„£ìœ¼ë©´, í•œ ë²ˆì— ëœë¤ìœ¼ë¡œ íŒ€ì„ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤. (ì˜ˆ: 4,4,3)" />

  <!-- (ì„ íƒ) Google AdSense ìë™ê´‘ê³ : ì¶”í›„ ìŠ¹ì¸ í›„ ì•„ë˜ ì½”ë“œì˜ ì£¼ì„ í•´ì œ
  <meta name="google-adsense-account" content="ca-pub-xxxxxxxxxxxxxxxx">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-xxxxxxxxxxxxxxxx" crossorigin="anonymous"></script>
  -->

  <style>
    :root {
      --bg: #0f1115;
      --card: #171a21;
      --muted: #99a2b2;
      --text: #e7eaf3;
      --accent: #7aa2ff;
      --accent-2: #9ae6b4;
      --danger: #ff6b6b;
      --border: #262a36;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
      background: radial-gradient(1200px 800px at 10% -10%, #1b2030 0%, #0f1115 60%);
      color: var(--text);
      line-height: 1.6;
    }
    .wrap {
      max-width: 920px;
      margin: 56px auto;
      padding: 0 20px;
    }
    header {
      text-align: center;
      margin-bottom: 24px;
    }
    .title {
      font-size: 36px; font-weight: 800; letter-spacing: -0.02em;
    }
    .subtitle { color: var(--muted); margin-top: 6px; }
    .card {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 22px;
      backdrop-filter: blur(6px);
      box-shadow: 0 10px 30px rgba(0,0,0,.3);
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
    }
    @media (min-width: 860px) {
      .grid { grid-template-columns: 1.3fr 1fr; }
    }
    label { display: block; font-weight: 600; margin-bottom: 6px; }
    .hint { color: var(--muted); font-size: 14px; }
    textarea, input {
      width: 100%;
      background: #0d0f14;
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px 14px;
      outline: none;
      transition: border .2s ease, box-shadow .2s ease;
    }
    textarea:focus, input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 4px rgba(122,162,255,.15);
    }
    .row {
      display: grid; grid-template-columns: 1fr 1fr; gap: 12px;
    }
    .btn {
      display: inline-flex; align-items: center; justify-content: center;
      gap: 8px; width: 100%;
      padding: 12px 14px; border: 0; border-radius: 12px;
      cursor: pointer; font-weight: 700; letter-spacing: .2px;
      background: linear-gradient(135deg, var(--accent), #5c7cff);
      color: #0b0d12;
      transition: transform .04s ease, filter .2s ease;
    }
    .btn:active { transform: translateY(1px); }
    .btn.secondary {
      background: transparent; color: var(--text);
      border: 1px solid var(--border);
    }
    .error {
      margin-top: 10px; color: var(--danger); font-weight: 600; display: none;
    }
    .result {
      margin-top: 18px; display: grid; gap: 14px;
    }
    .team {
      border: 1px solid var(--border);
      border-radius: 14px; padding: 14px;
      background: #10141c;
    }
    .team h3 {
      margin: 0 0 10px; font-size: 18px;
      display: inline-flex; align-items: center; gap: 8px;
    }
    .badge {
      display: inline-block; font-size: 12px; font-weight: 700;
      padding: 4px 8px; border-radius: 999px; color: #0b0d12;
      background: linear-gradient(135deg, var(--accent-2), #79ffe1);
    }
    ul { margin: 0; padding-left: 18px; }
    .muted { color: var(--muted); font-size: 14px; }
    footer { margin: 28px 0 12px; text-align: center; color: var(--muted); font-size: 13px; }
    .ads-slot {
      margin: 22px 0;
      border: 1px dashed var(--border);
      border-radius: 12px;
      padding: 10px;
      text-align: center;
      color: var(--muted);
      font-size: 13px;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="title">ğŸ² ëœë¤ ì¡° í¸ì„±ê¸°</div>
      <div class="subtitle">ì´ë¦„ê³¼ ì¡°ë³„ ì¸ì›ìˆ˜ë¥¼ ë„£ê³  ë²„íŠ¼ë§Œ ëˆ„ë¥´ì„¸ìš”. (ì˜ˆ: <b>4,4,3</b>)</div>
    </header>

    <div class="grid card">
      <!-- ì…ë ¥ ì˜ì—­ -->
      <section>
        <div style="margin-bottom:14px">
          <label for="names">íŒ€ì› ì´ë¦„ ëª©ë¡</label>
          <div class="hint">ì¤„ë°”ê¿ˆ ë˜ëŠ” ì‰¼í‘œë¡œ êµ¬ë¶„ Â· ì˜ˆ: ì§€í›ˆ, ìˆ˜ë¹ˆ, ë‹¤í˜œ â€¦</div>
          <textarea id="names" rows="10" placeholder="ì§€í›ˆ
ìˆ˜ë¹ˆ
ë‹¤í˜œ
ì§„í˜¸
ë¯¼ì§€
íƒœìœ¤
ì€ì„œ
ì¬í˜
ì„œí˜„
ë„ìœ¤
í•˜ëŒ"></textarea>
        </div>

        <div class="row" style="margin-bottom:12px">
          <div>
            <label for="groupSizes">ì¡°ë³„ ì¸ì›ìˆ˜</label>
            <input id="groupSizes" type="text" placeholder="ì˜ˆ: 4,4,3" />
          </div>
          <div>
            <label for="seed">ê³ ê¸‰(ì„ íƒ): ì‹œë“œ</label>
            <input id="seed" type="text" placeholder="ë™ì¼ ê²°ê³¼ë¥¼ ì¬í˜„í•˜ê³  ì‹¶ì„ ë•Œ" />
          </div>
        </div>

        <div class="row">
          <button class="btn" id="makeBtn">ì¡° í¸ì„±í•˜ê¸°</button>
          <button class="btn secondary" id="copyBtn">ê²°ê³¼ ë³µì‚¬</button>
        </div>
        <div id="error" class="error">ì…ë ¥ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</div>

        <!-- (ì„ íƒ) ê´‘ê³  ì˜ì—­ ì˜ˆì‹œ ìŠ¬ë¡¯ -->
        <div class="ads-slot">
          ê´‘ê³  ì˜ì—­(ì˜ˆì‹œ). AdSense ìŠ¹ì¸ í›„ ì—¬ê¸°ì— <code>&lt;ins class="adsbygoogle"&gt;</code> ë¸”ë¡ì„ ë„£ìœ¼ë©´ ë©ë‹ˆë‹¤.
        </div>
      </section>

      <!-- ê²°ê³¼ ì˜ì—­ -->
      <section>
        <div class="muted">ê²°ê³¼</div>
        <div id="result" class="result">
          <div class="muted">ì•„ì§ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. â€œì¡° í¸ì„±í•˜ê¸°â€ë¥¼ ëˆŒëŸ¬ë³´ì„¸ìš”.</div>
        </div>
      </section>
    </div>

    <footer>Â© <span id="year"></span> Random Team Maker â€¢ GitHub Pages</footer>
  </div>

  <script>
    // ìœ í‹¸: ì‹œë“œ ê¸°ë°˜ ë‚œìˆ˜(ì¬í˜„ ê°€ëŠ¥ ëœë¤)
    function mulberry32(a) {
      return function() {
        let t = a += 0x6D2B79F5;
        t = Math.imul(t ^ t >>> 15, t | 1);
        t ^= t + Math.imul(t ^ t >>> 7, t | 61);
        return ((t ^ t >>> 14) >>> 0) / 4294967296;
      }
    }
    function seededShuffle(array, seedStr) {
      if (!seedStr) {
        // ê¸°ë³¸: í¬ë¦½í†  > Math.random fallback
        const rand = window.crypto && crypto.getRandomValues ? () => {
          const u32 = new Uint32Array(1); crypto.getRandomValues(u32);
          return u32[0] / 2**32;
        } : Math.random;
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(rand() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }
      // ì‹œë“œ ë¬¸ìì—´ì„ ìˆ«ìë¡œ í•´ì‹œ
      let h = 2166136261 >>> 0;
      for (let i = 0; i < seedStr.length; i++) {
        h ^= seedStr.charCodeAt(i);
        h = Math.imul(h, 16777619);
      }
      const rng = mulberry32(h >>> 0);
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(rng() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function parseNames(text) {
      return text
        .split(/\n|,/)
        .map(s => s.trim())
        .filter(Boolean);
    }
    function parseGroupSizes(text) {
      const arr = text.split(",").map(s => parseInt(s.trim(), 10));
      if (!arr.length || arr.some(n => isNaN(n) || n <= 0)) return null;
      return arr;
    }
    function renderTeams(container, teams) {
      container.innerHTML = "";
      teams.forEach((team, i) => {
        const el = document.createElement("div");
        el.className = "team";
        el.innerHTML = `
          <h3>íŒ€ ${i+1} <span class="badge">${team.length}ëª…</span></h3>
          <ul>${team.map(n => `<li>${escapeHtml(n)}</li>`).join("")}</ul>
        `;
        container.appendChild(el);
      });
    }
    function escapeHtml(s) {
      return s.replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
    }
    function makeTeams() {
      const namesInput = document.getElementById("names").value.trim();
      const sizesInput = document.getElementById("groupSizes").value.trim();
      const seed = document.getElementById("seed").value.trim();
      const errorEl = document.getElementById("error");
      const resultEl = document.getElementById("result");

      errorEl.style.display = "none";

      const names = parseNames(namesInput);
      const sizes = parseGroupSizes(sizesInput);
      if (!names.length || !sizes) {
        errorEl.textContent = "ì´ë¦„ ëª©ë¡ê³¼ ì˜¬ë°”ë¥¸ ì¡°ë³„ ì¸ì›ìˆ˜(ì˜ˆ: 4,4,3)ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
        errorEl.style.display = "block";
        return;
      }
      const sum = sizes.reduce((a,b)=>a+b,0);
      if (sum > names.length) {
        errorEl.textContent = `ì¡° ì¸ì› í•©(${sum}ëª…)ì´ ì´ë¦„ ìˆ˜(${names.length}ëª…)ë³´ë‹¤ ë§ìŠµë‹ˆë‹¤.`;
        errorEl.style.display = "block";
        return;
      }

      const shuffled = seededShuffle([...names], seed);
      const teams = [];
      let idx = 0;
      for (const sz of sizes) {
        teams.push(shuffled.slice(idx, idx + sz));
        idx += sz;
      }
      if (idx < shuffled.length) {
        // ë‚¨ëŠ” ì¸ì›ì€ ë§ˆì§€ë§‰ íŒ€ì— í•©ì¹˜ê¸°(í•„ìš” ì‹œ ë¡œì§ ë³€ê²½)
        teams[teams.length - 1] = teams[teams.length - 1].concat(shuffled.slice(idx));
      }
      renderTeams(resultEl, teams);
      // ê²°ê³¼ í…ìŠ¤íŠ¸ ì €ì¥(ë³µì‚¬ìš©)
      window.__lastTeamsText = teams.map((t,i)=>`[íŒ€ ${i+1} - ${t.length}ëª…]\n`+t.map(n=>`- ${n}`).join("\n")).join("\n\n");
    }

    function copyResult() {
      const text = window.__lastTeamsText;
      if (!text) {
        alert("ì•„ì§ ìƒì„±ëœ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € 'ì¡° í¸ì„±í•˜ê¸°'ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”.");
        return;
      }
      navigator.clipboard.writeText(text).then(
        ()=>alert("ê²°ê³¼ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!"),
        ()=>alert("ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ê¶Œí•œì„ í™•ì¸í•´ì£¼ì„¸ìš”.")
      );
    }

    document.getElementById("makeBtn").addEventListener("click", makeTeams);
    document.getElementById("copyBtn").addEventListener("click", copyResult);
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

  <!-- (ì„ íƒ) ê°œë³„ ê´‘ê³  ìœ ë‹›ì„ ì“°ê³  ì‹¶ë‹¤ë©´, ìŠ¹ì¸ í›„ ë³¸ë¬¸ ì ë‹¹í•œ ìœ„ì¹˜ì— ì´ëŸ° ë¸”ë¡ì„ ë°°ì¹˜
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-xxxxxxxxxxxxxxxx"
       data-ad-slot="1234567890"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  -->
</body>
</html>
